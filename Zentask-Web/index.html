<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Zentask</title>
  <link rel="stylesheet" href="style.css" />
  <link rel="icon" href="zentask-min.svg" type="image/svg+xml" />
</head>
<body class="dark">
  <div class="app">
    <!-- Sidebar -->
    <aside class="sidebar">
	  <div>
      <img src="logo.svg" alt="Logo" class="logo-img" />
      <nav>
		<div class="dropdown">
             <button id="new-page-btn">ğŸ“‹New Page</button>
             <button id="load-json-btn">ğŸ“Open</button>
             <button id="save-json-btn">ğŸ“…Save (.json)</button>
             <input type="file" id="load-json-input" accept=".json" style="display: none;">
        </div>
      </nav>
	  </div>
	  <div id="task-form">
            <input type="text" id="task-title" placeholder="Title">
            <textarea id="task-desc" placeholder="Note"></textarea>
            <input type="date" id="task-date">
            <button id="add-task-btn">Add Task</button>
          </div>
    </aside>

    <!-- Main -->
    <main class="main">
      <header class="topbar">
        <div class="left">
          <input type="text" id="page-title" placeholder="Page Name" />
        </div>
        <div class="right">
          <button id="toggleTheme" class="btn">ğŸŒ™</button>
        </div>
      </header>

      <!-- Priority Tasks -->
      <section id="priority-container">
        <h3>High Priority</h3>
        <hr />
        <ul id="priority-list"></ul>
      </section>

      <!-- Task Board -->
      <section class="task-board">
        <!-- Todo Column -->
        <div class="column">
          <h2>ğŸ§¾ Task List</h2>
          <div id="todo-list"></div>
        </div>
		
		<div class="column">
          <h2>ğŸ–‹ï¸ In Progress</h2>
          <div id="undercon-list"></div>
        </div>

        <!-- Done Column -->
        <div class="column">
          <h2>âœ… Done</h2>
          <div id="done-list"></div>
        </div>
      </section>
    </main>
  </div>

  <!-- Scripts -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/dompurify/3.0.3/purify.min.js"></script>
  <script src="script.js"></script>
  <script>
    const body = document.body;
    const toggleBtn = document.getElementById('toggleTheme');
    const currentTheme = localStorage.getItem('theme');

    if (currentTheme === 'dark') {
      body.classList.add('dark');
      toggleBtn.textContent = 'ğŸŒ™';
    } else {
      body.classList.add('light');
      toggleBtn.textContent = 'â˜€ï¸';
    }

    toggleBtn.addEventListener('click', () => {
      if (body.classList.contains('dark')) {
        body.classList.remove('dark');
        body.classList.add('light');
        localStorage.setItem('theme', 'light');
        toggleBtn.textContent = 'â˜€ï¸';
      } else {
        body.classList.remove('light');
        body.classList.add('dark');
        localStorage.setItem('theme', 'dark');
        toggleBtn.textContent = 'ğŸŒ™';
      }
    });
  </script>
</body>
</html>
